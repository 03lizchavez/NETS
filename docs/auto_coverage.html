<!DOCTYPE html>
<html>
    <head>
        <title>
            Auto Policy Tab
        </title>
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="tracker_graphic.css"/>
        <script src="scripts/claimsviewer.js"></script>
        <script src="scripts/fileclaim.js"></script>
    </head>
    <body class="policy-panel">
        <table id="Home-Claims-Chart" class="claims-list">
            <tr>
                <td> Claim Number </td>
                <td> Status </td>
            </tr>
            <tr>
                <td> <button id="claim-1201" class="claim-button" onclick="viewClaim(id)" data-filing-date="8:52AM, 09/10/24" data-filing-date2="4:21PM, 14/10/24" data-filing-date3="7:55AM, 15/10/24" data-filing-date4="12:25PM, 17/10/24" data-agent="N/A" data-progress="1" data-agent-pn="N/A">#1201</button> </td>
                <td> Searching for agent </td>
            </tr>
            <tr>
                <td> <button id="claim-1206" class="claim-button" onclick="viewClaim(id)" data-filing-date="14/10/24" data-agent="Maria" data-progress="2" data-agent-pn="(412) 251-2699">#1206</button> </td>
                <td> Under review </td>
            </tr>
            <tr>
                <td> <button id="claim-1209" class="claim-button" onclick="viewClaim(id)" data-filing-date="17/10/24" data-agent="Louis" data-progress="3" data-agent-pn="(412) 253-2696">#1209</button> </td>
                <td> Claim processed </td>
            </tr>
            <tr>
                <td> <button id="claim-1221" class="claim-button" onclick="viewClaim(id)" data-filing-date="24/10/24" data-agent="Louis" data-progress="4a" data-agent-pn="(412) 253-2696" data-payout="$450.00">#1221</button> </td>
                <td> Payout ready </td>
            </tr>
            <tr>
                <td> <button id="claim-1224" class="claim-button" onclick="viewClaim(id)" data-filing-date="30/10/24" data-agent="John" data-progress="4b"  data-agent-pn="(412) 257-2691" data-payout="$325.53">#1224</button> </td>
                <td> Payout adjusted </td>
            </tr>
        </table>
        
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="400" id="claim_progress_svg" class="claim_progress_graph" visibility="hidden" >
            
            
            <a onclick="viewClaimStep(id)" id="claim-step-1"><path d=" M 375 200 A 175 175 0 0 1 200 375" class="claim_progress_graphic" fill="transparent" stroke="#93A3FF" stroke-width="20" /></a>
            <a onclick="viewClaimStep(id)" id="claim-step-2"><path d=" M 200 375 A 175 175 90 0 1 25 200" class="claim_progress_graphic" fill="transparent" stroke="#6D83FF" stroke-width="20" /></a>
            <a onclick="viewClaimStep(id)" id="claim-step-3"><path d=" M 25 200 A 175 175 180 0 1 200 25" class="claim_progress_graphic" fill="transparent" stroke="#6D59FF" stroke-width="20"/></a>
            <a onclick="viewClaimStep(id)" id="claim-step-4"><path d=" M 200 25 A 175 175 270 0 1 375 200" class="claim_progress_graphic" fill="transparent" stroke="#4A3AFF" stroke-width="20"/></a>
            <circle r="165" cx="200" cy="200" fill="white"></circle>
            
            
            <text x="200" y="200" text-anchor="middle" id="claim-step-1-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 1:</tspan> <tspan dy="1em" x="200">Waiting for agent to be assigned.</tspan></text>
            <text x="200" y="200" text-anchor="middle" id="claim-step-2-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 2:</tspan> <tspan dy="1em" x="200">Your claim is under review</tspan></text>
            <text x="200" y="200" text-anchor="middle" id="claim-step-3-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 3:</tspan> <tspan dy="1em" x="200">Now gathering evidence.</tspan></text>
            <text x="200" y="200" text-anchor="middle" id="claim-step-4-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 4:</tspan> <tspan dy="1em" x="200">Your claim is processed!</tspan></text>
            <text x="200" y="100" text-anchor="middle" id="claim-number-text" style="font-weight: bold;"><tspan dy="0em" x="200">Select a part of </tspan><tspan dy="1em" x="200">circle to see claim's history</tspan></text>
            
            
            <text x="600" y="100" text-anchor="start" id="claim-extra-info" class="claim_progress_text"><tspan dy="0em" x="415"  style="font-weight: bold;">Agent:</tspan> <tspan dy="1em" x="415">Not assigned yet!</tspan></text>
            <script>
                
                function deselectClaimSteps(){
                    var claim_steps = document.getElementsByClassName("claim_progress_graphic");
                    var claim_steps_text = document.getElementsByClassName("claim_progress_text");
                    for (var i = 0; i &lt; claim_steps.length; i++){
                        claim_steps[i].classList.remove("claim_progress_selected");
                        claim_steps_text[i].setAttribute("visibility", "hidden")
                        document.getElementById("claim-number-text").firstChild.innerHTML = "Select a part of ";
                        document.getElementById("claim-number-text").lastChild.innerHTML = "circle to see claim's history";
                    }
                }
                
                
                function viewClaimStep(_claimStep){
                    var selected_step = document.getElementById(_claimStep);
                    if (selected_step.children[0].classList == "claim_progress_graphic"){
                        deselectClaimSteps();
                        var step_text = _claimStep.split("-");
                        document.getElementById("claim-number-text").firstChild.innerHTML = String(step_text[1].toUpperCase() + " " + step_text[2]);
                        
                        document.getElementById("claim-number-text").lastChild.innerHTML = "";
                        document.getElementById(_claimStep + "-text").setAttribute("visibility", "visible")
                        selected_step.firstElementChild.classList.add("claim_progress_selected");
                    };
                    
                }
            </script>
        </svg>
        
        <div class="file-claim-panel" id="file-claim-panel" style="height: 22vh; width: 11vh; border: none;">
            <button style="position: absolute; float: right; right: 0%;" onclick="fileClaim()" class="file-claim-button"><img src="images/fileClaim_icon.svg" alt="file_claim" class="file-claim-button"/></button>
            <form id="file-claim-form" style="display: none;">
                <p> You can file a claim by filling out the information below and submitting it.</p>
                <label> Policy: </label>
                <input list="policies"/><br/>
                <datalist id="policies">
                    <option value="Auto">
                    <option value="Home">
                    <option value="Pet">
                </datalist>
                <label> Claim Number: </label>
                <input type="text"/><br/>
                <label> Insurer: </label>
                <input type="text"/><br/>
                <label> Upload Media: </label>
                <input type="file"/><br/><br/><br/>
                <input type="submit" value="Submit">
            </form>
            
        </div>
    </body>
</html>