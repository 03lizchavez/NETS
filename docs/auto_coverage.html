<!DOCTYPE html>
<html>
    <head>
        <title>
            Auto Policy Tab
        </title>
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="tracker_graphic.css"/>
        <script src="scripts/claimsviewer.js"></script>
    </head>
    <body class="policy-panel">
        <table id="Home-Claims-Chart" class="claims-list">
            <tr>
                <td> Claim Number </td>
                <td> Agent </td>
                <td> Status </td>
            </tr>
            <tr>
                <td> <button id="claim-1201" class="claim-button" onclick="viewClaim(id)" data-filing-date="09/10/24" data-agent="---" data-progress="1">#1201</button> </td>
                <td> --- </td>
                <td> Awaiting review </td>
            </tr>
            <tr>
                <td> <button id="claim-1206" class="claim-button" onclick="viewClaim(id)" data-filing-date="14/10/24" data-agent="Maria" data-progress="2">#1206</button> </td>
                <td> Maria </td>
                <td> Awaiting review </td>
            </tr>
            <tr>
                <td> <button id="claim-1209" class="claim-button" onclick="viewClaim(id)" data-filing-date="17/10/24" data-agent="Louis" data-progress="3">#1209</button> </td>
                <td> Louis </td>
                <td> Claim reviewed </td>
            </tr>
            <tr>
                <td> <button id="claim-1221" class="claim-button" onclick="viewClaim(id)" data-filing-date="24/10/24" data-agent="Louis" data-progress="4a">#1221</button> </td>
                <td> Louis </td>
                <td> Payout ready </td>
            </tr>
            <tr>
                <td> <button id="claim-1224" class="claim-button" onclick="viewClaim(id)" data-filing-date="30/10/24" data-agent="John" data-progress="4b">#1224</button> </td>
                <td> John </td>
                <td> Payout ready </td>
            </tr>
        </table>
        
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400" id="claim_progress_svg" class="claim_progress_graph" visibility="hidden" >
            
            
            <a onclick="viewClaimStep(id)" id="claim-step1"><path d=" M 375 200 A 175 175 0 0 1 200 375" class="claim_progress_graphic" fill="transparent" stroke="#93A3FF" stroke-width="20" /></a>
            <a onclick="viewClaimStep(id)" id="claim-step2"><path d=" M 200 375 A 175 175 90 0 1 25 200" class="claim_progress_graphic" fill="transparent" stroke="#6D83FF" stroke-width="20" /></a>
            <a onclick="viewClaimStep(id)" id="claim-step3"><path d=" M 25 200 A 175 175 180 0 1 200 25" class="claim_progress_graphic" fill="transparent" stroke="#6D59FF" stroke-width="20"/></a>
            <a onclick="viewClaimStep(id)" id="claim-step4"><path d=" M 200 25 A 175 175 270 0 1 375 200" class="claim_progress_graphic" fill="transparent" stroke="#4A3AFF" stroke-width="20"/></a>
            <circle r="165" cx="200" cy="200" fill="white"></circle>
            
            
            <text x="200" y="200" text-anchor="middle" id="claim-step1-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 1:</tspan> <tspan dy="1em" x="200">Your claim is filed</tspan></text>
            <text x="200" y="200" text-anchor="middle" id="claim-step2-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 2:</tspan> <tspan dy="1em" x="200">Your claim is under review</tspan></text>
            <text x="200" y="200" text-anchor="middle" id="claim-step3-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 3:</tspan> <tspan dy="1em" x="200">Your claim has been processed</tspan></text>
            <text x="200" y="200" text-anchor="middle" id="claim-step4-text" class="claim_progress_text"><tspan dy="0em" x="200">Step 4:</tspan> <tspan dy="1em" x="200">Your claim is processed!</tspan></text>
            
            <text x="200" y="100" text-anchor="middle" id="claim-number-text"><tspan dy="0em" x="200">Select a claim to see </tspan><tspan dy="1em" x="200">the details of its progress</tspan></text>
            
            <script>
                function deselectClaimSteps(){
                    var claim_steps = document.getElementsByClassName("claim_progress_graphic");
                    var claim_steps_text = document.getElementsByClassName("claim_progress_text");
                    for (var i = 0; i &lt; claim_steps.length; i++){
                        claim_steps[i].classList.remove("claim_progress_selected");
                        claim_steps_text[i].setAttribute("visibility", "hidden")
                    }
                }
                
                function viewClaimStep(_claimStep){
                    var selected_step = document.getElementById(_claimStep);
                    if (selected_step.children[0].classList == "claim_progress_graphic"){
                        deselectClaimSteps();
                        document.getElementById(_claimStep + "-text").setAttribute("visibility", "visible")
                        selected_step.firstElementChild.classList.add("claim_progress_selected");
                    };
                }
            </script>
            <!-- If you are using oXygen, ignore any errors occuring in the script element below. The less than and greater than symbols are for conditional statements  -->
            
            
<!--            <script>
                function viewClaim(){
                    document.getElementById("progress-graphic").setAttribute()
                    alert("test")
                }-\->
                
                function showText(element_id) {
                var text_of_steps = document.getElementsByClassName("graphic_text");
                var selected = document.getElementById(element_id);
                var graphics = document.getElementsByClassName("circle_graphic")
                for (var i = 0; i < text_of_steps.length; i++){
                    text_of_steps[i].setAttribute("visibility", "hidden");
                };
                for (var i = 0; i < graphics.length; i++){
                    graphics[i].classList.remove("circle_select");;
                };
                selected.firstElementChild.classList.add("circle_select");
                document.getElementById(String(element_id + "-text")).setAttribute("visibility", "visible");
                };
            </script>-->
        </svg>
    </body>
</html>